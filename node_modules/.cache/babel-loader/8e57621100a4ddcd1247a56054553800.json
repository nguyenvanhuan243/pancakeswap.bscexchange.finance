{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nguyenvanhuan243/Documents/apphocvienstock/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nguyenvanhuan243/Documents/apphocvienstock/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/nguyenvanhuan243/Documents/apphocvienstock/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import{useTranslation}from'contexts/Localization';import BigNumber from'bignumber.js';import{BIG_ZERO}from'utils/bigNumber';import{multicallv2}from'utils/multicall';import profileABI from'config/abi/pancakeProfile.json';import{getPancakeProfileAddress}from'utils/addressHelpers';import useToast from'hooks/useToast';var useGetProfileCosts=function useGetProfileCosts(){var _useTranslation=useTranslation(),t=_useTranslation.t;var _useState=useState({numberCakeToReactivate:BIG_ZERO,numberCakeToRegister:BIG_ZERO,numberCakeToUpdate:BIG_ZERO}),_useState2=_slicedToArray(_useState,2),costs=_useState2[0],setCosts=_useState2[1];var _useToast=useToast(),toastError=_useToast.toastError;useEffect(function(){var fetchCosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var calls,_yield$multicallv,_yield$multicallv2,_yield$multicallv2$,numberCakeToReactivate,_yield$multicallv2$2,numberCakeToRegister,_yield$multicallv2$3,numberCakeToUpdate;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;calls=['numberCakeToReactivate','numberCakeToRegister','numberCakeToUpdate'].map(function(method){return{address:getPancakeProfileAddress(),name:method};});_context.next=4;return multicallv2(profileABI,calls);case 4:_yield$multicallv=_context.sent;_yield$multicallv2=_slicedToArray(_yield$multicallv,3);_yield$multicallv2$=_slicedToArray(_yield$multicallv2[0],1);numberCakeToReactivate=_yield$multicallv2$[0];_yield$multicallv2$2=_slicedToArray(_yield$multicallv2[1],1);numberCakeToRegister=_yield$multicallv2$2[0];_yield$multicallv2$3=_slicedToArray(_yield$multicallv2[2],1);numberCakeToUpdate=_yield$multicallv2$3[0];setCosts({numberCakeToReactivate:new BigNumber(numberCakeToReactivate.toString()),numberCakeToRegister:new BigNumber(numberCakeToRegister.toString()),numberCakeToUpdate:new BigNumber(numberCakeToUpdate.toString())});_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](0);toastError(t('Error'),t('Could not retrieve CAKE costs for profile'));case 18:case\"end\":return _context.stop();}}},_callee,null,[[0,15]]);}));return function fetchCosts(){return _ref.apply(this,arguments);};}();fetchCosts();},[setCosts,toastError,t]);return costs;};export default useGetProfileCosts;","map":{"version":3,"sources":["/Users/nguyenvanhuan243/Documents/apphocvienstock/src/views/Profile/hooks/useGetProfileCosts.ts"],"names":["useEffect","useState","useTranslation","BigNumber","BIG_ZERO","multicallv2","profileABI","getPancakeProfileAddress","useToast","useGetProfileCosts","t","numberCakeToReactivate","numberCakeToRegister","numberCakeToUpdate","costs","setCosts","toastError","fetchCosts","calls","map","method","address","name","toString"],"mappings":"qfAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,cAAT,KAA+B,uBAA/B,CACA,MAAOC,CAAAA,SAAP,KAAsB,cAAtB,CACA,OAASC,QAAT,KAAyB,iBAAzB,CACA,OAASC,WAAT,KAA4B,iBAA5B,CACA,MAAOC,CAAAA,UAAP,KAAuB,gCAAvB,CACA,OAASC,wBAAT,KAAyC,sBAAzC,CACA,MAAOC,CAAAA,QAAP,KAAqB,gBAArB,CAEA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAC/B,oBAAcP,cAAc,EAA5B,CAAQQ,CAAR,iBAAQA,CAAR,CACA,cAA0BT,QAAQ,CAAC,CACjCU,sBAAsB,CAAEP,QADS,CAEjCQ,oBAAoB,CAAER,QAFW,CAGjCS,kBAAkB,CAAET,QAHa,CAAD,CAAlC,wCAAOU,KAAP,eAAcC,QAAd,eAKA,cAAuBP,QAAQ,EAA/B,CAAQQ,UAAR,WAAQA,UAAR,CAEAhB,SAAS,CAAC,UAAM,CACd,GAAMiB,CAAAA,UAAU,0FAAG,+TAETC,KAFS,CAED,CAAC,wBAAD,CAA2B,sBAA3B,CAAmD,oBAAnD,EAAyEC,GAAzE,CAA6E,SAACC,MAAD,QAAa,CACtGC,OAAO,CAAEd,wBAAwB,EADqE,CAEtGe,IAAI,CAAEF,MAFgG,CAAb,EAA7E,CAFC,uBAMwEf,CAAAA,WAAW,CAChGC,UADgG,CAEhGY,KAFgG,CANnF,2JAMPP,sBANO,qFAMmBC,oBANnB,sFAM2CC,kBAN3C,yBAWfE,QAAQ,CAAC,CACPJ,sBAAsB,CAAE,GAAIR,CAAAA,SAAJ,CAAcQ,sBAAsB,CAACY,QAAvB,EAAd,CADjB,CAEPX,oBAAoB,CAAE,GAAIT,CAAAA,SAAJ,CAAcS,oBAAoB,CAACW,QAArB,EAAd,CAFf,CAGPV,kBAAkB,CAAE,GAAIV,CAAAA,SAAJ,CAAcU,kBAAkB,CAACU,QAAnB,EAAd,CAHb,CAAD,CAAR,CAXe,iFAiBfP,UAAU,CAACN,CAAC,CAAC,OAAD,CAAF,CAAaA,CAAC,CAAC,2CAAD,CAAd,CAAV,CAjBe,qEAAH,kBAAVO,CAAAA,UAAU,0CAAhB,CAqBAA,UAAU,GACX,CAvBQ,CAuBN,CAACF,QAAD,CAAWC,UAAX,CAAuBN,CAAvB,CAvBM,CAAT,CAyBA,MAAOI,CAAAA,KAAP,CACD,CAnCD,CAqCA,cAAeL,CAAAA,kBAAf","sourcesContent":["import { useEffect, useState } from 'react'\nimport { useTranslation } from 'contexts/Localization'\nimport BigNumber from 'bignumber.js'\nimport { BIG_ZERO } from 'utils/bigNumber'\nimport { multicallv2 } from 'utils/multicall'\nimport profileABI from 'config/abi/pancakeProfile.json'\nimport { getPancakeProfileAddress } from 'utils/addressHelpers'\nimport useToast from 'hooks/useToast'\n\nconst useGetProfileCosts = () => {\n  const { t } = useTranslation()\n  const [costs, setCosts] = useState({\n    numberCakeToReactivate: BIG_ZERO,\n    numberCakeToRegister: BIG_ZERO,\n    numberCakeToUpdate: BIG_ZERO,\n  })\n  const { toastError } = useToast()\n\n  useEffect(() => {\n    const fetchCosts = async () => {\n      try {\n        const calls = ['numberCakeToReactivate', 'numberCakeToRegister', 'numberCakeToUpdate'].map((method) => ({\n          address: getPancakeProfileAddress(),\n          name: method,\n        }))\n        const [[numberCakeToReactivate], [numberCakeToRegister], [numberCakeToUpdate]] = await multicallv2(\n          profileABI,\n          calls,\n        )\n\n        setCosts({\n          numberCakeToReactivate: new BigNumber(numberCakeToReactivate.toString()),\n          numberCakeToRegister: new BigNumber(numberCakeToRegister.toString()),\n          numberCakeToUpdate: new BigNumber(numberCakeToUpdate.toString()),\n        })\n      } catch (error) {\n        toastError(t('Error'), t('Could not retrieve CAKE costs for profile'))\n      }\n    }\n\n    fetchCosts()\n  }, [setCosts, toastError, t])\n\n  return costs\n}\n\nexport default useGetProfileCosts\n"]},"metadata":{},"sourceType":"module"}