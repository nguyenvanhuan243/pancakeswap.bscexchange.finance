{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nguyenvanhuan243/Documents/apphocvienstock/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nguyenvanhuan243/Documents/apphocvienstock/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _taggedTemplateLiteral from\"/Users/nguyenvanhuan243/Documents/apphocvienstock/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import React from'react';import{useWeb3React}from'@web3-react/core';import{ArrowForwardIcon,Box,Button,Radio,Flex,Heading,Text,ButtonMenu,ButtonMenuItem}from'@pancakeswap/uikit';import{useAppDispatch}from'state';import{HistoryFilter}from'state/types';import{setHistoryFilter,setHistoryPaneState,fetchHistory}from'state/predictions';import{useGetHistoryFilter,useGetIsFetchingHistory}from'state/predictions/hooks';import{useTranslation}from'contexts/Localization';import styled from'styled-components';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Filter=styled.label(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  align-items: center;\\n  cursor: pointer;\\n  display: inline-flex;\\n  margin-right: 16px;\\n\"])));var StyledHeader=styled(Box)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  background: \",\";\\n  flex: none;\\n  padding: 16px;\\n\"])),function(_ref){var theme=_ref.theme;return theme.colors.gradients.bubblegum;});var ButtonMenuContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  & > div {\\n    width: 100%;\\n  }\\n\\n  & button {\\n    width: 100%;\\n  }\\n\"])));var getClaimParam=function getClaimParam(historyFilter){switch(historyFilter){case HistoryFilter.COLLECTED:return true;case HistoryFilter.UNCOLLECTED:return false;case HistoryFilter.ALL:default:return undefined;}};export var HistoryTabs;(function(HistoryTabs){HistoryTabs[HistoryTabs[\"ROUNDS\"]=0]=\"ROUNDS\";HistoryTabs[HistoryTabs[\"PNL\"]=1]=\"PNL\";})(HistoryTabs||(HistoryTabs={}));var Header=function Header(_ref2){var activeTab=_ref2.activeTab,setActiveTab=_ref2.setActiveTab;var historyFilter=useGetHistoryFilter();var isFetchingHistory=useGetIsFetchingHistory();var _useTranslation=useTranslation(),t=_useTranslation.t;var dispatch=useAppDispatch();var _useWeb3React=useWeb3React(),account=_useWeb3React.account;var handleClick=function handleClick(){dispatch(setHistoryPaneState(false));};var handleChange=function handleChange(newFilter){return/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(newFilter!==historyFilter)){_context.next=4;break;}_context.next=3;return dispatch(fetchHistory({account:account,claimed:getClaimParam(newFilter)}));case 3:dispatch(setHistoryFilter(newFilter));case 4:case\"end\":return _context.stop();}}},_callee);}));};var switchTab=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(tabIndex){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setActiveTab(tabIndex);_context2.next=3;return handleChange(HistoryFilter.ALL)();case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function switchTab(_x){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(StyledHeader,{children:[/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",justifyContent:\"space-between\",mb:\"16px\",children:[/*#__PURE__*/_jsx(Heading,{as:\"h3\",size:\"md\",children:t('History')}),/*#__PURE__*/_jsx(Button,{onClick:handleClick,variant:\"text\",endIcon:/*#__PURE__*/_jsx(ArrowForwardIcon,{color:\"primary\"}),px:\"0\",children:t('Close')})]}),/*#__PURE__*/_jsx(ButtonMenuContainer,{children:/*#__PURE__*/_jsxs(ButtonMenu,{activeIndex:activeTab,scale:\"sm\",variant:\"subtle\",onItemClick:switchTab,children:[/*#__PURE__*/_jsx(ButtonMenuItem,{children:t('Rounds')}),/*#__PURE__*/_jsx(ButtonMenuItem,{children:t('PNL')})]})}),activeTab===HistoryTabs.ROUNDS&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Text,{color:\"textSubtle\",fontSize:\"12px\",mb:\"8px\",children:t('Filter')}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",children:[/*#__PURE__*/_jsxs(Filter,{children:[/*#__PURE__*/_jsx(Radio,{scale:\"sm\",checked:historyFilter===HistoryFilter.ALL,disabled:isFetchingHistory||!account,onChange:handleChange(HistoryFilter.ALL)}),/*#__PURE__*/_jsx(Text,{ml:\"4px\",children:t('All')})]}),/*#__PURE__*/_jsxs(Filter,{children:[/*#__PURE__*/_jsx(Radio,{scale:\"sm\",checked:historyFilter===HistoryFilter.COLLECTED,disabled:isFetchingHistory||!account,onChange:handleChange(HistoryFilter.COLLECTED)}),/*#__PURE__*/_jsx(Text,{ml:\"4px\",children:t('Collected')})]}),/*#__PURE__*/_jsxs(Filter,{children:[/*#__PURE__*/_jsx(Radio,{scale:\"sm\",checked:historyFilter===HistoryFilter.UNCOLLECTED,disabled:isFetchingHistory||!account,onChange:handleChange(HistoryFilter.UNCOLLECTED)}),/*#__PURE__*/_jsx(Text,{ml:\"4px\",children:t('Uncollected')})]})]})]})]});};export default Header;","map":{"version":3,"sources":["/Users/nguyenvanhuan243/Documents/apphocvienstock/src/views/Predictions/components/History/Header.tsx"],"names":["React","useWeb3React","ArrowForwardIcon","Box","Button","Radio","Flex","Heading","Text","ButtonMenu","ButtonMenuItem","useAppDispatch","HistoryFilter","setHistoryFilter","setHistoryPaneState","fetchHistory","useGetHistoryFilter","useGetIsFetchingHistory","useTranslation","styled","Filter","label","StyledHeader","theme","colors","gradients","bubblegum","ButtonMenuContainer","div","getClaimParam","historyFilter","COLLECTED","UNCOLLECTED","ALL","undefined","HistoryTabs","Header","activeTab","setActiveTab","isFetchingHistory","t","dispatch","account","handleClick","handleChange","newFilter","claimed","switchTab","tabIndex","ROUNDS"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport {\n  ArrowForwardIcon,\n  Box,\n  Button,\n  Radio,\n  Flex,\n  Heading,\n  Text,\n  ButtonMenu,\n  ButtonMenuItem,\n} from '@pancakeswap/uikit'\nimport { useAppDispatch } from 'state'\nimport { HistoryFilter } from 'state/types'\nimport { setHistoryFilter, setHistoryPaneState, fetchHistory } from 'state/predictions'\nimport { useGetHistoryFilter, useGetIsFetchingHistory } from 'state/predictions/hooks'\nimport { useTranslation } from 'contexts/Localization'\nimport styled from 'styled-components'\n\nconst Filter = styled.label`\n  align-items: center;\n  cursor: pointer;\n  display: inline-flex;\n  margin-right: 16px;\n`\n\nconst StyledHeader = styled(Box)`\n  background: ${({ theme }) => theme.colors.gradients.bubblegum};\n  flex: none;\n  padding: 16px;\n`\n\nconst ButtonMenuContainer = styled.div`\n  width: 100%;\n  & > div {\n    width: 100%;\n  }\n\n  & button {\n    width: 100%;\n  }\n`\n\nconst getClaimParam = (historyFilter: HistoryFilter) => {\n  switch (historyFilter) {\n    case HistoryFilter.COLLECTED:\n      return true\n    case HistoryFilter.UNCOLLECTED:\n      return false\n    case HistoryFilter.ALL:\n    default:\n      return undefined\n  }\n}\n\ninterface HeaderProps {\n  activeTab: HistoryTabs\n  setActiveTab: (value: HistoryTabs) => void\n}\n\nexport enum HistoryTabs {\n  ROUNDS,\n  PNL,\n}\n\nconst Header: React.FC<HeaderProps> = ({ activeTab, setActiveTab }) => {\n  const historyFilter = useGetHistoryFilter()\n  const isFetchingHistory = useGetIsFetchingHistory()\n  const { t } = useTranslation()\n  const dispatch = useAppDispatch()\n  const { account } = useWeb3React()\n\n  const handleClick = () => {\n    dispatch(setHistoryPaneState(false))\n  }\n\n  const handleChange = (newFilter: HistoryFilter) => async () => {\n    if (newFilter !== historyFilter) {\n      await dispatch(fetchHistory({ account, claimed: getClaimParam(newFilter) }))\n      dispatch(setHistoryFilter(newFilter))\n    }\n  }\n\n  const switchTab = async (tabIndex: number) => {\n    setActiveTab(tabIndex)\n    await handleChange(HistoryFilter.ALL)()\n  }\n\n  return (\n    <StyledHeader>\n      <Flex alignItems=\"center\" justifyContent=\"space-between\" mb=\"16px\">\n        <Heading as=\"h3\" size=\"md\">\n          {t('History')}\n        </Heading>\n        <Button onClick={handleClick} variant=\"text\" endIcon={<ArrowForwardIcon color=\"primary\" />} px=\"0\">\n          {t('Close')}\n        </Button>\n      </Flex>\n      <ButtonMenuContainer>\n        <ButtonMenu activeIndex={activeTab} scale=\"sm\" variant=\"subtle\" onItemClick={switchTab}>\n          <ButtonMenuItem>{t('Rounds')}</ButtonMenuItem>\n          <ButtonMenuItem>{t('PNL')}</ButtonMenuItem>\n        </ButtonMenu>\n      </ButtonMenuContainer>\n      {activeTab === HistoryTabs.ROUNDS && (\n        <>\n          <Text color=\"textSubtle\" fontSize=\"12px\" mb=\"8px\">\n            {t('Filter')}\n          </Text>\n          <Flex alignItems=\"center\">\n            <Filter>\n              <Radio\n                scale=\"sm\"\n                checked={historyFilter === HistoryFilter.ALL}\n                disabled={isFetchingHistory || !account}\n                onChange={handleChange(HistoryFilter.ALL)}\n              />\n              <Text ml=\"4px\">{t('All')}</Text>\n            </Filter>\n            <Filter>\n              <Radio\n                scale=\"sm\"\n                checked={historyFilter === HistoryFilter.COLLECTED}\n                disabled={isFetchingHistory || !account}\n                onChange={handleChange(HistoryFilter.COLLECTED)}\n              />\n              <Text ml=\"4px\">{t('Collected')}</Text>\n            </Filter>\n            <Filter>\n              <Radio\n                scale=\"sm\"\n                checked={historyFilter === HistoryFilter.UNCOLLECTED}\n                disabled={isFetchingHistory || !account}\n                onChange={handleChange(HistoryFilter.UNCOLLECTED)}\n              />\n              <Text ml=\"4px\">{t('Uncollected')}</Text>\n            </Filter>\n          </Flex>\n        </>\n      )}\n    </StyledHeader>\n  )\n}\n\nexport default Header\n"]},"metadata":{},"sourceType":"module"}