{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nguyenvanhuan243/Documents/apphocvienstock/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nguyenvanhuan243/Documents/apphocvienstock/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useEffect}from'react';import{Box}from'@pancakeswap/uikit';import{useTheme}from'styled-components';import{useTranslation}from'contexts/Localization';/**\n * When the script tag is injected the TradingView object is not immediately\n * available on the window. So we listen for when it gets set\n */import{jsx as _jsx}from\"react/jsx-runtime\";var tradingViewListener=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",new Promise(function(resolve){return Object.defineProperty(window,'TradingView',{configurable:true,set:function set(value){this.tv=value;resolve(value);}});}));case 1:case\"end\":return _context.stop();}}},_callee);}));return function tradingViewListener(){return _ref.apply(this,arguments);};}();var initializeTradingView=function initializeTradingView(TradingViewObj,theme,localeCode){/* eslint-disable new-cap */ /* eslint-disable no-new */ // @ts-ignore\nnew TradingViewObj.widget({autosize:true,height:'100%',symbol:'BINANCE:BNBUSDT',interval:'5',timezone:'Etc/UTC',theme:theme.isDark?'dark':'light',style:'1',locale:localeCode,toolbar_bg:'#f1f3f6',enable_publishing:false,allow_symbol_change:true,container_id:'tradingview_b239c'});};var TradingView=function TradingView(){var _useTranslation=useTranslation(),currentLanguage=_useTranslation.currentLanguage;var theme=useTheme();useEffect(function(){// @ts-ignore\nif(window.TradingView){// @ts-ignore\ninitializeTradingView(window.TradingView,theme,currentLanguage.code);}else{tradingViewListener().then(function(tv){initializeTradingView(tv,theme,currentLanguage.code);});}},[theme,currentLanguage]);return/*#__PURE__*/_jsx(Box,{overflow:\"hidden\",className:\"tradingview_container\",children:/*#__PURE__*/_jsx(\"div\",{id:\"tradingview_b239c\"})});};export default TradingView;","map":{"version":3,"sources":["/Users/nguyenvanhuan243/Documents/apphocvienstock/src/views/Predictions/components/TradingView.tsx"],"names":["React","useEffect","Box","useTheme","useTranslation","tradingViewListener","Promise","resolve","Object","defineProperty","window","configurable","set","value","tv","initializeTradingView","TradingViewObj","theme","localeCode","widget","autosize","height","symbol","interval","timezone","isDark","style","locale","toolbar_bg","enable_publishing","allow_symbol_change","container_id","TradingView","currentLanguage","code","then"],"mappings":"6UAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,GAAT,KAAoB,oBAApB,CACA,OAAuBC,QAAvB,KAAuC,mBAAvC,CACA,OAASC,cAAT,KAA+B,uBAA/B,CAEA;AACA;AACA;AACA,G,2CACA,GAAMC,CAAAA,mBAAmB,0FAAG,mKAC1B,GAAIC,CAAAA,OAAJ,CAAkB,SAACC,OAAD,QAChBC,CAAAA,MAAM,CAACC,cAAP,CAAsBC,MAAtB,CAA8B,aAA9B,CAA6C,CAC3CC,YAAY,CAAE,IAD6B,CAE3CC,GAF2C,cAEvCC,KAFuC,CAEhC,CACT,KAAKC,EAAL,CAAUD,KAAV,CACAN,OAAO,CAACM,KAAD,CAAP,CACD,CAL0C,CAA7C,CADgB,EAAlB,CAD0B,wDAAH,kBAAnBR,CAAAA,mBAAmB,0CAAzB,CAWA,GAAMU,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACC,cAAD,CAAsBC,KAAtB,CAA2CC,UAA3C,CAAkE,CAC9F,4BAD8F,CAE9F,2BAF8F,CAG9F;AACA,GAAIF,CAAAA,cAAc,CAACG,MAAnB,CAA0B,CACxBC,QAAQ,CAAE,IADc,CAExBC,MAAM,CAAE,MAFgB,CAGxBC,MAAM,CAAE,iBAHgB,CAIxBC,QAAQ,CAAE,GAJc,CAKxBC,QAAQ,CAAE,SALc,CAMxBP,KAAK,CAAEA,KAAK,CAACQ,MAAN,CAAe,MAAf,CAAwB,OANP,CAOxBC,KAAK,CAAE,GAPiB,CAQxBC,MAAM,CAAET,UARgB,CASxBU,UAAU,CAAE,SATY,CAUxBC,iBAAiB,CAAE,KAVK,CAWxBC,mBAAmB,CAAE,IAXG,CAYxBC,YAAY,CAAE,mBAZU,CAA1B,EAcD,CAlBD,CAoBA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,oBAA4B5B,cAAc,EAA1C,CAAQ6B,eAAR,iBAAQA,eAAR,CACA,GAAMhB,CAAAA,KAAK,CAAGd,QAAQ,EAAtB,CAEAF,SAAS,CAAC,UAAM,CACd;AACA,GAAIS,MAAM,CAACsB,WAAX,CAAwB,CACtB;AACAjB,qBAAqB,CAACL,MAAM,CAACsB,WAAR,CAAqBf,KAArB,CAA4BgB,eAAe,CAACC,IAA5C,CAArB,CACD,CAHD,IAGO,CACL7B,mBAAmB,GAAG8B,IAAtB,CAA2B,SAACrB,EAAD,CAAQ,CACjCC,qBAAqB,CAACD,EAAD,CAAKG,KAAL,CAAYgB,eAAe,CAACC,IAA5B,CAArB,CACD,CAFD,EAGD,CACF,CAVQ,CAUN,CAACjB,KAAD,CAAQgB,eAAR,CAVM,CAAT,CAYA,mBACE,KAAC,GAAD,EAAK,QAAQ,CAAC,QAAd,CAAuB,SAAS,CAAC,uBAAjC,uBACE,YAAK,EAAE,CAAC,mBAAR,EADF,EADF,CAKD,CArBD,CAuBA,cAAeD,CAAAA,WAAf","sourcesContent":["import React, { useEffect } from 'react'\nimport { Box } from '@pancakeswap/uikit'\nimport { DefaultTheme, useTheme } from 'styled-components'\nimport { useTranslation } from 'contexts/Localization'\n\n/**\n * When the script tag is injected the TradingView object is not immediately\n * available on the window. So we listen for when it gets set\n */\nconst tradingViewListener = async () =>\n  new Promise<void>((resolve) =>\n    Object.defineProperty(window, 'TradingView', {\n      configurable: true,\n      set(value) {\n        this.tv = value\n        resolve(value)\n      },\n    }),\n  )\n\nconst initializeTradingView = (TradingViewObj: any, theme: DefaultTheme, localeCode: string) => {\n  /* eslint-disable new-cap */\n  /* eslint-disable no-new */\n  // @ts-ignore\n  new TradingViewObj.widget({\n    autosize: true,\n    height: '100%',\n    symbol: 'BINANCE:BNBUSDT',\n    interval: '5',\n    timezone: 'Etc/UTC',\n    theme: theme.isDark ? 'dark' : 'light',\n    style: '1',\n    locale: localeCode,\n    toolbar_bg: '#f1f3f6',\n    enable_publishing: false,\n    allow_symbol_change: true,\n    container_id: 'tradingview_b239c',\n  })\n}\n\nconst TradingView = () => {\n  const { currentLanguage } = useTranslation()\n  const theme = useTheme()\n\n  useEffect(() => {\n    // @ts-ignore\n    if (window.TradingView) {\n      // @ts-ignore\n      initializeTradingView(window.TradingView, theme, currentLanguage.code)\n    } else {\n      tradingViewListener().then((tv) => {\n        initializeTradingView(tv, theme, currentLanguage.code)\n      })\n    }\n  }, [theme, currentLanguage])\n\n  return (\n    <Box overflow=\"hidden\" className=\"tradingview_container\">\n      <div id=\"tradingview_b239c\" />\n    </Box>\n  )\n}\n\nexport default TradingView\n"]},"metadata":{},"sourceType":"module"}