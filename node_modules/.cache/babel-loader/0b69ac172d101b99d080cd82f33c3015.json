{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nguyenvanhuan243/Documents/apphocvienstock/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nguyenvanhuan243/Documents/apphocvienstock/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{useEffect}from'react';import{useSelector}from'react-redux';import{useAppDispatch}from'state';import{simpleRpcProvider}from'utils/providers';import{setBlock}from'.';export var usePollBlockNumber=function usePollBlockNumber(){var dispatch=useAppDispatch();useEffect(function(){var interval=setInterval(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var blockNumber;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return simpleRpcProvider.getBlockNumber();case 2:blockNumber=_context.sent;dispatch(setBlock(blockNumber));case 4:case\"end\":return _context.stop();}}},_callee);})),6000);return function(){return clearInterval(interval);};},[dispatch]);};export var useBlock=function useBlock(){return useSelector(function(state){return state.block;});};export var useInitialBlock=function useInitialBlock(){return useSelector(function(state){return state.block.initialBlock;});};","map":{"version":3,"sources":["/Users/nguyenvanhuan243/Documents/apphocvienstock/src/state/block/hooks.ts"],"names":["useEffect","useSelector","useAppDispatch","simpleRpcProvider","setBlock","usePollBlockNumber","dispatch","interval","setInterval","getBlockNumber","blockNumber","clearInterval","useBlock","state","block","useInitialBlock","initialBlock"],"mappings":"6UAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,cAAT,KAA+B,OAA/B,CACA,OAASC,iBAAT,KAAkC,iBAAlC,CACA,OAASC,QAAT,KAAyB,GAAzB,CAGA,MAAO,IAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CACtC,GAAMC,CAAAA,QAAQ,CAAGJ,cAAc,EAA/B,CAEAF,SAAS,CAAC,UAAM,CACd,GAAMO,CAAAA,QAAQ,CAAGC,WAAW,sEAAC,yKACDL,CAAAA,iBAAiB,CAACM,cAAlB,EADC,QACrBC,WADqB,eAE3BJ,QAAQ,CAACF,QAAQ,CAACM,WAAD,CAAT,CAAR,CAF2B,sDAAD,GAGzB,IAHyB,CAA5B,CAKA,MAAO,kBAAMC,CAAAA,aAAa,CAACJ,QAAD,CAAnB,EAAP,CACD,CAPQ,CAON,CAACD,QAAD,CAPM,CAAT,CAQD,CAXM,CAaP,MAAO,IAAMM,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CAC5B,MAAOX,CAAAA,WAAW,CAAC,SAACY,KAAD,QAAkBA,CAAAA,KAAK,CAACC,KAAxB,EAAD,CAAlB,CACD,CAFM,CAIP,MAAO,IAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CACnC,MAAOd,CAAAA,WAAW,CAAC,SAACY,KAAD,QAAkBA,CAAAA,KAAK,CAACC,KAAN,CAAYE,YAA9B,EAAD,CAAlB,CACD,CAFM","sourcesContent":["import { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useAppDispatch } from 'state'\nimport { simpleRpcProvider } from 'utils/providers'\nimport { setBlock } from '.'\nimport { State } from '../types'\n\nexport const usePollBlockNumber = () => {\n  const dispatch = useAppDispatch()\n\n  useEffect(() => {\n    const interval = setInterval(async () => {\n      const blockNumber = await simpleRpcProvider.getBlockNumber()\n      dispatch(setBlock(blockNumber))\n    }, 6000)\n\n    return () => clearInterval(interval)\n  }, [dispatch])\n}\n\nexport const useBlock = () => {\n  return useSelector((state: State) => state.block)\n}\n\nexport const useInitialBlock = () => {\n  return useSelector((state: State) => state.block.initialBlock)\n}\n"]},"metadata":{},"sourceType":"module"}